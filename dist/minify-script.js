const pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):document.alert("pokemon is not correct")}function o(){return t}function n(t){let e=document.querySelector(".list-group"),o=document.createElement("li");o.classList.add("group-list-item"),o.classList.add("col-sm-4","col-md-6","col-lg-12");let n=document.createElement("button");n.innerText=c(t.name),n.classList.add("pokemon-button"),n.setAttribute("data-toggle","modal"),n.setAttribute("data-target","#pokemon-modal"),n.addEventListener("click",function(){a(t)}),o.appendChild(n),e.appendChild(o)}function i(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){e({name:c(t.name),detailsUrl:t.url})})}).catch(function(t){console.error(t)})}function l(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types}).catch(function(t){console.error(t)})}function a(t){l(t).then(function(){r(t)})}console.log(e),console.log(o),console.log(n),console.log(i),console.log(l),console.log(a);let s=document.querySelector("#pokemon-modal");function r(t){let e=$(".modal-body"),o=$(".modal-title");o.empty(),e.empty();let n=$("<h1>"+c(t.name)+"</h1>"),i=$(`<img alt="pokemon-image" src="${t.imageUrl}" class="modal-img" style="width:40%">`),l=$("<p>Height: "+t.height+"</p>"),a=$("<p>Weight: "+t.weight+"</p>"),r=[];Object.keys(t.types).forEach(e=>{r.push(" "+t.types[e].type.name)});let p=$("<p>Type(s): "+r+"</p>");o.append(n),e.append(i),e.append(l),e.append(a),e.append(p),s.classList.add("is-visible"),$("#pokemonModal").modal("show")}function p(){s.classList.remove("is-visible")}function c(t){let e=t.replace(/^./,t[0].toUpperCase());return e}return console.log(r),console.log(p),window.addEventListener("keydown",t=>{"Escape"===t.key&&s.classList.contains("is-visible")&&p()}),console.log(window),s.addEventListener("click",t=>{t.target===s&&p()}),console.log(s),{add:e,getAll:o,addListItem:n,loadList:i,loadDetails:l,showDetails:a,showModal:r,hideModal:p}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});